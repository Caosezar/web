/**
 * Mixins e Funções SCSS Utilitárias
 *
 * Facilita a criação de componentes com estilos consistentes
 */

@use './colors' as *;

/* ===================================
   MIXINS DE FLEXBOX
   =================================== */

@mixin flex($direction: row, $justify: center, $align: center) {
  display: flex;
  flex-direction: $direction;
  justify-content: $justify;
  align-items: $align;
}

@mixin flex-center {
  @include flex(row, center, center);
}

@mixin flex-between {
  @include flex(row, space-between, center);
}

/* ===================================
   MIXINS DE GRID
   =================================== */

@mixin grid($columns: 12, $gap: 1rem) {
  display: grid;
  grid-template-columns: repeat($columns, 1fr);
  gap: $gap;
}

/* ===================================
   MIXINS DE ESPAÇAMENTO
   =================================== */

@mixin padding($top: 1rem, $right: 1rem, $bottom: 1rem, $left: 1rem) {
  padding: $top $right $bottom $left;
}

@mixin margin($top: 1rem, $right: 1rem, $bottom: 1rem, $left: 1rem) {
  margin: $top $right $bottom $left;
}

/* ===================================
   MIXINS DE SOMBRAS
   =================================== */

@mixin shadow-sm {
  box-shadow: 0 1px 2px rgba($dark, 0.05);
}

@mixin shadow-md {
  box-shadow: 0 4px 6px rgba($dark, 0.1);
}

@mixin shadow-lg {
  box-shadow: 0 10px 15px rgba($dark, 0.1);
}

@mixin shadow-xl {
  box-shadow: 0 20px 25px rgba($dark, 0.1);
}

@mixin shadow-inner {
  box-shadow: inset 0 2px 4px rgba($dark, 0.06);
}

/* ===================================
   MIXINS DE BORDAS E ARREDONDAMENTOS
   =================================== */

@mixin border($width: 1px, $style: solid, $color: $border-light) {
  border: $width $style $color;
}

@mixin border-radius($radius: 4px) {
  border-radius: $radius;
}

@mixin rounded {
  border-radius: 8px;
}

@mixin rounded-full {
  border-radius: 9999px;
}

/* ===================================
   MIXINS DE TRANSIÇÕES
   =================================== */

@mixin transition($properties: all, $duration: 0.2s, $timing: ease) {
  transition: $properties $duration $timing;
}

@mixin transition-colors {
  @include transition(color, background-color, border-color);
}

/* ===================================
   MIXINS DE TIPOGRAFIA
   =================================== */

@mixin truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

@mixin line-clamp($lines: 2) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* ===================================
   MIXINS DE ESTADO
   =================================== */

@mixin hover {
  &:hover {
    @content;
  }
}

@mixin active {
  &:active {
    @content;
  }
}

@mixin focus {
  &:focus {
    @content;
  }
}

@mixin disabled {
  &:disabled, &.disabled {
    @content;
  }
}

/* ===================================
   MIXINS DE BOTÕES
   =================================== */

@mixin button-base {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 4px;
  font-size: 1rem;
  font-weight: 500;
  cursor: pointer;
  @include transition;

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
}

@mixin button-primary {
  @include button-base;
  background-color: $primary;
  color: $white;

  &:hover {
    background-color: $primary-dark;
  }
}

@mixin button-secondary {
  @include button-base;
  background-color: $secondary;
  color: $dark;

  &:hover {
    background-color: $secondary-dark;
  }
}

@mixin button-outline {
  @include button-base;
  background-color: transparent;
  border: 2px solid $primary;
  color: $primary;

  &:hover {
    background-color: rgba($primary, 0.1);
  }
}

/* ===================================
   MIXINS DE CARDS
   =================================== */

@mixin card {
  background-color: $white;
  @include border-radius;
  @include shadow-md;
  @include padding(1.5rem);
  @include transition;

  &:hover {
    @include shadow-lg;
  }
}

/* ===================================
   MIXINS DE INPUTS
   =================================== */

@mixin input-base {
  width: 100%;
  padding: 0.75rem 1rem;
  border: 1px solid $border-light;
  border-radius: 4px;
  font-size: 1rem;
  font-family: inherit;
  @include transition;

  &:focus {
    outline: none;
    border-color: $primary;
    box-shadow: 0 0 0 3px rgba($primary, 0.1);
  }

  &:disabled {
    background-color: $bg-tertiary;
    cursor: not-allowed;
  }
}

/* ===================================
   MIXINS DE POSICIONAMENTO
   =================================== */

@mixin absolute-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

@mixin absolute-cover {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}

/* ===================================
   MIXINS RESPONSIVOS
   =================================== */

@mixin media-sm {
  @media (max-width: 640px) {
    @content;
  }
}

@mixin media-md {
  @media (max-width: 768px) {
    @content;
  }
}

@mixin media-lg {
  @media (max-width: 1024px) {
    @content;
  }
}

@mixin media-xl {
  @media (max-width: 1280px) {
    @content;
  }
}

/* ===================================
   FUNÇÕES UTILITÁRIAS
   =================================== */

// Calcula contraste de cor
@function contrast-color($bg-color) {
  @if (lightness($bg-color) > 50) {
    @return $dark;
  } @else {
    @return $white;
  }
}

// Cria uma cor mais clara
@function lighten-color($color, $amount: 10%) {
  @return lighten($color, $amount);
}

// Cria uma cor mais escura
@function darken-color($color, $amount: 10%) {
  @return darken($color, $amount);
}
